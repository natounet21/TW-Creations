<!DOCTYPE html>
<html lang="en" data-bs-theme="auto">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <meta name="author" content="natty">
        <link rel="canonical" href="https://natounet21.github.io/TW-Creations/articles/turboconnect-docs/">
        <link rel="shortcut icon" href="../../img/favicon.ico">
        <title>How to communicate with the server - TurboWarp Thingys</title>
        <link href="../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../css/fontawesome.min.css" rel="stylesheet">
        <link href="../../css/brands.min.css" rel="stylesheet">
        <link href="../../css/solid.min.css" rel="stylesheet">
        <link href="../../css/v4-font-face.min.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link id="hljs-light" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" disabled>
        <link id="hljs-dark" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github-dark.min.css" disabled>
        <link href="../../css/extra.css" rel="stylesheet">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/yaml.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/django.min.js"></script>
        <script>hljs.highlightAll();</script>
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-274394082"></script>
        <script>
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());

          gtag('config', "G-274394082");
        </script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="../..">TurboWarp Thingys</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbar-collapse" aria-controls="navbar-collapse" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="nav-item">
                                <a href="../.." class="nav-link">Home</a>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Minecraft</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../tw-smp/" class="dropdown-item">TWSMP</a>
</li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ms-md-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-bs-toggle="modal" data-bs-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item dropdown">
                              <button id="theme-menu" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Toggle theme" class="nav-link dropdown-toggle">
                                <i class="fa-solid fa-circle-half-stroke fa-fw"></i>
                                <span class="d-lg-none ms-2">Toggle theme</span>
                              </button>
                              <ul class="dropdown-menu dropdown-menu-end">
                                <li>
                                  <button class="dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
                                    <i class="fa-solid fa-sun fa-fw"></i>
                                    <span class="ms-2">Light</span>
                                    <i class="fa-solid fa-check ms-auto d-none"></i>
                                  </button>
                                </li>
                                <li>
                                  <button class="dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                                    <i class="fa-solid fa-moon fa-fw"></i>
                                    <span class="ms-2">Dark</span>
                                    <i class="fa-solid fa-check ms-auto d-none"></i>
                                  </button>
                                </li>
                                <li>
                                  <button class="dropdown-item d-flex align-items-center" data-bs-theme-value="auto" aria-pressed="true">
                                    <i class="fa-solid fa-circle-half-stroke fa-fw"></i>
                                    <span class="ms-2">Auto</span>
                                    <i class="fa-solid fa-check ms-auto"></i>
                                  </button>
                                </li>
                              </ul>
                            </li>
                    </ul>
                </div>
            </div>
        </div>
        <script src="../../js/darkmode.js"></script>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-bs-toggle="collapse" data-bs-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-body-tertiary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-bs-level="1"><a href="#how-to-communicate-with-the-server" class="nav-link">How to communicate with the server</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="2"><a href="#authentification" class="nav-link">Authentification</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#rooms" class="nav-link">Rooms</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#communication" class="nav-link">Communication</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#join-and-leaves" class="nav-link">Join and leaves</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="how-to-communicate-with-the-server">How to communicate with the server<a class="headerlink" href="#how-to-communicate-with-the-server" title="Permanent link"></a></h1>
<p>So when you connect the server will send 2 messages</p>
<pre><code class="language-json">{
    &quot;type&quot;:&quot;id&quot;,
    &quot;id&quot;:&quot;afe4e809-dbaa-4beb-a850-d87fd59ec1e4&quot;
}
</code></pre>
<p>The type field is always there and explain what the server is sending
This message is the server sending you your id
Then the other message will be </p>
<pre><code class="language-json">{
    &quot;type&quot;:&quot;server_data&quot;,
    &quot;data&quot;:{
        &quot;address&quot;:&quot;wss://place.natounet21.dev&quot;,
        &quot;version&quot;:&quot;0.1.7.1&quot;,
        &quot;features&quot;:[
            &quot;text&quot;,
            &quot;username&quot;,
            &quot;timestamp&quot;,
            &quot;chatarray&quot;
        ]
    }
}
</code></pre>
<p>This message is the server sending you what it can do for now this not useful but when the server will be open source it will be useful to know what the server are you communicating with can do.</p>
<h2 id="authentification">Authentification<a class="headerlink" href="#authentification" title="Permanent link"></a></h2>
<p>After you will need to respond there two messages you can use : 
The first is to authenticate with ScratchAuth</p>
<pre><code class="language-json">{
    &quot;type&quot;:&quot;auth&quot;
}
</code></pre>
<p>When sending this the server will send back</p>
<pre><code class="language-json">{
    &quot;type&quot;:&quot;authing&quot;,
    &quot;url&quot;:&quot;https://...&quot;
}
</code></pre>
<p>After you can use the Network extension of TurboWarp to open a new tab with this url sent in the JSON.
After displaying and that the user connect with the popup it should close automatically but something it might not.
After you are authed :D But before let me explain the other message
The other message is : </p>
<pre><code class="language-json">{
    &quot;type&quot;:&quot;set_user&quot;,
    &quot;name&quot;:&quot;Uhmmm&quot;
}
</code></pre>
<p>The name field is the username you want then you are also Authed
NOTE : This cracked authentification if you use it your username will look like <code>[✖] name</code> but if you were Authing with ScratchAuth it would look like : <code>[✔] name</code></p>
<h2 id="rooms">Rooms<a class="headerlink" href="#rooms" title="Permanent link"></a></h2>
<p>After authing or before you need to set your room before sending anything
this what to send </p>
<pre><code class="language-json">{
    &quot;type&quot;:&quot;set_room&quot;,
    &quot;room&quot;:&quot;genral&quot;
}
</code></pre>
<h2 id="communication">Communication<a class="headerlink" href="#communication" title="Permanent link"></a></h2>
<p>YAY you are now authed time to chat!
First to chat you will need to send this : </p>
<pre><code class="language-json">{
    &quot;type&quot;:&quot;chat&quot;,
    &quot;message&quot;:&quot;Message&quot;
}
</code></pre>
<p>Replace message by your message after
everyone will recieve: </p>
<pre><code class="language-json">{
    &quot;type&quot;:&quot;chatted&quot;,
    &quot;message&quot;:&quot;Message&quot;,
    &quot;username&quot;:&quot;[✔] name&quot;,
    &quot;id&quot;:&quot;afe4e809-dbaa-4beb-a850-d87fd59ec1e4&quot;
}
</code></pre>
<h2 id="join-and-leaves">Join and leaves<a class="headerlink" href="#join-and-leaves" title="Permanent link"></a></h2>
<p>This experimental and can bug a lot but this how
when someone join you will recieve : </p>
<pre><code class="language-json">{
    &quot;type&quot;:&quot;join&quot;,
    &quot;name&quot;:&quot;[✔] name&quot;
}
</code></pre>
<p>and for disconnect : </p>
<pre><code class="language-json">{
    &quot;type&quot;:&quot;disconnected&quot;,
    &quot;name&quot;:&quot;[✔] name&quot;
}
</code></pre></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script src="../../js/bootstrap.bundle.min.js"></script>
        <script>
            var base_url = "../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../js/base.js"></script>
        <script src="../../search/main.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
